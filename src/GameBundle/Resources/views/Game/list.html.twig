{% extends 'template/defaultTemplate.html.twig' %}

{% block page_title %}<title> Game List </title>{% endblock %}

{% block content %}

    {{ dump(games) }}
    {{ dump(sortTarget) }}
    {{ dump(sortMode) }}

    <table>
        <tr class="appear-fade">
            <th></th>
            <th onclick="document.location = '{{ url('game_list', {'sort': 'name','order':invertSortMode}) }}'">
                Name
                <div style="padding: 2px;display: inline-block">
                    {% if sortTarget == "name" and sortMode == "ascend" %}
                        <i class="fa fa-angle-down fa-lg" aria-hidden="true"></i>
                    {% elseif sortTarget == "name" %}
                        <i class="fa fa-angle-up fa-lg" aria-hidden="true"></i>
                    {% endif %}
                </div>
            </th>
            <th>Description</th>
            <th onclick="document.location = '{{ url('game_list', {'sort': 'rating','order':invertSortMode}) }}'">
                Review
                <div style="padding: 2px;display: inline-block">
                    {% if sortTarget == "rating" and sortMode == "ascend" %}
                        <i class="fa fa-angle-up fa-lg" aria-hidden="true"></i>
                    {% elseif sortTarget == "rating" %}
                        <i class="fa fa-angle-down fa-lg" aria-hidden="true"></i>
                    {% endif %}
                </div>
            </th>
        </tr>
        {% for game in games %}
            <tr class="appear-fade" onclick="document.location = '{{ url('game_detail', {'gameId': game.id}) }}'">
                <td><img height="200px" src="{{ asset(game.image) }}"></td>
                <td style="min-width: 250px"><h2>{{ game.name }}</h2></td>
                <td><p>{{ game.description }}</p></td>
                <td width="150px"><h1>{{ (game.sumOfVote / game.numberOfVote) | round(2, 'floor') }} | 10</h1></td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}
